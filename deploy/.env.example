# ==============================================================================
# AhaVault ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿
# Production Environment Template
# ==============================================================================
# ä½¿ç”¨æ–¹æ³• | Usage:
#   1. å¤åˆ¶æ­¤æ–‡ä»¶ä¸º .env | Copy this file to .env
#      cp .env.example .env
#   2. ä¿®æ”¹æ‰€æœ‰æ ‡è®°ä¸º âš ï¸ çš„æ•æ„Ÿé…ç½® | Modify all âš ï¸ marked sensitive configs
#   3. ä¸¥ç¦æäº¤åŒ…å«çœŸå®å‡­æ®çš„ .env æ–‡ä»¶ | Never commit real credentials
# ==============================================================================

# ==============================================================================
# 1. åº”ç”¨é…ç½® | Application Configuration
# ==============================================================================

# åº”ç”¨ç¯å¢ƒ | Application Environment
# å¯é€‰å€¼ Values: dev | staging | production
# é»˜è®¤ Default: production
APP_ENV=production

# è°ƒè¯•æ¨¡å¼ | Debug Mode
# âš ï¸ ç”Ÿäº§ç¯å¢ƒå¿…é¡»è®¾ç½®ä¸º false | MUST be false in production
# é»˜è®¤ Default: false
APP_DEBUG=false

# æ—¥å¿—çº§åˆ« | Log Level
# å¯é€‰å€¼ Values: debug | info | warn | error
# é»˜è®¤ Default: info
LOG_LEVEL=info

# GitHub ä»“åº“æ‰€æœ‰è€…ï¼ˆç”¨äºæ‹‰å–é•œåƒï¼‰| GitHub Repository Owner
# é»˜è®¤ Default: ahaxzh
GITHUB_REPOSITORY_OWNER=ahaxzh

# ==============================================================================
# 2. æ•°æ®åº“é…ç½® | Database Configuration (PostgreSQL)
# ==============================================================================

# æ•°æ®åº“ç”¨æˆ·å | Database Username
# é»˜è®¤ Default: ahavault
POSTGRES_USER=ahavault

# æ•°æ®åº“å¯†ç  | Database Password
# âš ï¸ ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹ | MUST change in production
# ç”Ÿæˆç¤ºä¾‹ | Generation Example: openssl rand -base64 32
# é»˜è®¤ Default: changeme
POSTGRES_PASSWORD=changeme

# æ•°æ®åº“åç§° | Database Name
# é»˜è®¤ Default: ahavault
POSTGRES_DB=ahavault

# æ•°æ®åº“è¿æ¥æ± é…ç½® | Database Connection Pool
# æœ€å¤§æ‰“å¼€è¿æ¥æ•° | Max Open Connections (Default: 100)
DB_MAX_OPEN_CONNS=100
# æœ€å¤§ç©ºé—²è¿æ¥æ•° | Max Idle Connections (Default: 10)
DB_MAX_IDLE_CONNS=10
# è¿æ¥æœ€å¤§å­˜æ´»æ—¶é—´ | Connection Max Lifetime (Default: 1h)
DB_CONN_MAX_LIFETIME=1h

# ==============================================================================
# 3. Redis é…ç½® | Redis Configuration
# ==============================================================================

# Redis è®¤è¯å¯†ç  | Redis Password
# âš ï¸ ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹ | MUST change in production
# å¿…é¡»ä¸ docker-compose.yml ä¸­ --requirepass å‚æ•°ä¿æŒä¸€è‡´
# ç”Ÿæˆç¤ºä¾‹ | Generation Example: openssl rand -base64 32
# é»˜è®¤ Default: changeme
REDIS_PASSWORD=changeme

# ==============================================================================
# 4. å®‰å…¨é…ç½® | Security Settings (âš ï¸ å…³é”®é…ç½®)
# ==============================================================================

# Master Key (KEK) - ç”¨äºåŠ å¯†æ–‡ä»¶å¯†é’¥
# âš ï¸ å…³é”®å®‰å…¨é…ç½® | CRITICAL Security Setting
# âš ï¸ å¿…é¡» 32 å­—èŠ‚ï¼ˆ64 å­—ç¬¦ HEXï¼‰| MUST be 32 bytes (64 hex chars)
# ç”Ÿæˆæ–¹æ³• | Generation: openssl rand -hex 32
# ç¤ºä¾‹ Example: 0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
APP_MASTER_KEY=

# JWT å¯†é’¥ | JWT Secret Key
# âš ï¸ å…³é”®å®‰å…¨é…ç½® | CRITICAL Security Setting
# ç”¨äºç­¾ç½²è®¤è¯ä»¤ç‰Œ | Used for signing authentication tokens
# ç”Ÿæˆç¤ºä¾‹ | Generation Example: openssl rand -base64 64
JWT_SECRET=

# æ³¨å†Œå¼€å…³ | Registration Switch
# æ§åˆ¶æ˜¯å¦å…è®¸å…¬å¼€æ³¨å†Œ | Controls public registration
# å¯é€‰å€¼ Values: true | false
# é»˜è®¤ Default: false (ç”Ÿäº§ç¯å¢ƒæ¨èå…³é—­)
REGISTRATION_ENABLED=false

# ==============================================================================
# 5. æœåŠ¡å™¨é…ç½® | Server Configuration
# ==============================================================================

# HTTP æœåŠ¡è¯»è¶…æ—¶ | Server Read Timeout
# é»˜è®¤ Default: 10s
SERVER_READ_TIMEOUT=10s

# HTTP æœåŠ¡å†™è¶…æ—¶ | Server Write Timeout
# é»˜è®¤ Default: 10s
SERVER_WRITE_TIMEOUT=10s

# ==============================================================================
# 6. ä¸šåŠ¡é…ç½® | Business Configuration
# ==============================================================================

# å•æ–‡ä»¶æœ€å¤§å¤§å°ï¼ˆå­—èŠ‚ï¼‰| Max File Size (Bytes)
# é»˜è®¤ Default: 2147483648 (2GB)
MAX_FILE_SIZE=2147483648

# æ–°ç”¨æˆ·é»˜è®¤å­˜å‚¨é…é¢ï¼ˆå­—èŠ‚ï¼‰| Default User Storage Quota (Bytes)
# é»˜è®¤ Default: 10737418240 (10GB)
DEFAULT_USER_QUOTA=10737418240

# åˆ†äº«å–ä»¶ç é•¿åº¦ | Share Pickup Code Length
# é»˜è®¤ Default: 8
SHARE_CODE_LENGTH=8

# é»˜è®¤åˆ†äº«æœ‰æ•ˆæœŸ | Default Share Expiration
# é»˜è®¤ Default: 24h
DEFAULT_SHARE_EXPIRY=24h

# æœ€å¤§åˆ†äº«æœ‰æ•ˆæœŸ | Max Share Expiration
# é»˜è®¤ Default: 168h (7 days)
MAX_SHARE_EXPIRY=168h

# åƒåœ¾å›æ”¶ä¿ç•™å¤©æ•° | GC Retention Days
# è½¯åˆ é™¤æ–‡ä»¶çš„ä¿ç•™å¤©æ•° | Days to keep soft-deleted files
# é»˜è®¤ Default: 7
GC_RETENTION_DAYS=7

# ==============================================================================
# 7. å‰ç«¯é…ç½® | Frontend Configuration (æ„å»ºæ—¶æ³¨å…¥ | Build-time Injection)
# ==============================================================================
# æ³¨æ„: å‰ç«¯å˜é‡éœ€è¦åœ¨ Docker é•œåƒæ„å»ºæ—¶æ³¨å…¥ï¼Œè€Œéè¿è¡Œæ—¶
# Note: Frontend vars are injected at Docker build time, not runtime

# åç«¯ API åŸºç¡€åœ°å€ | Backend API Base URL
# âš ï¸ ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹ | MUST change in production
# âš ï¸ å¿…é¡»åŒ…å« /api è·¯å¾„ï¼Œä¸è¦ä»¥æ–œæ ç»“å°¾
# âš ï¸ Must include /api path, must NOT end with '/'
# ç¤ºä¾‹ | Examples:
#   - æœ¬åœ° Docker: http://localhost/api (é€šè¿‡ Nginx åä»£)
#   - ç”Ÿäº§ç¯å¢ƒ: https://yourdomain.com/api
VITE_API_URL=http://localhost/api

# ==============================================================================
# 8. Docker ç«¯å£æ˜ å°„ | Docker Port Mapping
# ==============================================================================

# Web æœåŠ¡å¤–éƒ¨ç«¯å£ | Web Service External Port
# ç”¨äºè®¿é—®å‰ç«¯å’Œ API | Used to access frontend and API
# é»˜è®¤ Default: 80
WEB_PORT=80

# ==============================================================================
# é…ç½®è¯´æ˜ | Configuration Notes
# ==============================================================================
#
# ğŸ” å®‰å…¨å»ºè®® | Security Recommendations:
#   - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¼ºéšæœº APP_MASTER_KEY å’Œ JWT_SECRET
#   - å®šæœŸè½®æ¢å¯†é’¥
#   - ä½¿ç”¨ç¯å¢ƒå˜é‡è€Œéæ–‡ä»¶å­˜å‚¨æ•æ„Ÿä¿¡æ¯
#   - æ•°æ®åº“å’Œ Redis ä¸è¦æš´éœ²å…¬ç½‘ç«¯å£
#
# ğŸ³ Docker éƒ¨ç½²è¯´æ˜ | Docker Deployment:
#   - PostgreSQL/Redis ä½¿ç”¨ Docker Compose æœåŠ¡åè®¿é—®
#   - å‰ç«¯å˜é‡ VITE_* éœ€è¦åœ¨æ„å»ºé•œåƒæ—¶é€šè¿‡ --build-arg æ³¨å…¥
#   - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ Docker Swarm æˆ– Kubernetes
#
# ğŸ“Š æ€§èƒ½å»ºè®® | Performance Recommendations:
#   - æ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´æ•°æ®åº“è¿æ¥æ± å‚æ•°
#   - æ ¹æ®é¢„æœŸæµé‡è°ƒæ•´æ–‡ä»¶å¤§å°é™åˆ¶
#   - å®šæœŸæ¸…ç†è¿‡æœŸçš„åˆ†äº«å’Œè½¯åˆ é™¤æ–‡ä»¶
#
# ğŸ’¾ å¤‡ä»½å»ºè®® | Backup Recommendations:
#   - å®šæœŸå¤‡ä»½ PostgreSQL æ•°æ®åº“
#   - å®šæœŸå¤‡ä»½å­˜å‚¨å· ahavault_storage_data
#   - ä¿å­˜ APP_MASTER_KEY çš„å®‰å…¨å‰¯æœ¬ï¼ˆä¸¢å¤±æ— æ³•è§£å¯†æ–‡ä»¶ï¼‰
#
# ==============================================================================
